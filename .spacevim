" You can enable the existing layers in space-vim and
" exclude the partial plugins in a certain layer.
" The command Layer is vaild in the function Layers().
" Use exclude option if you don't want the full Layer,
" e.g., Layer 'better-defaults', { 'exclude': 'itchyny/vim-cursorword' }

" Get OS
function! GetRunningOS()
  if has("win32")
    return "win"
  endif
  if has("unix")
    if system('uname')=~'Darwin'
      return "mac"
    else
      return "linux"
    endif
  endif
endfunction

function! Layers()

    Layer 'fzf'
    Layer 'syntax-checking'
    Layer 'auto-completion'
    Layer 'unite'
    Layer 'better-defaults'
    Layer 'file-manager'
    Layer 'chinese'
    Layer 'programming'

    " Lang
    Layer 'java'
    Layer 'javascript'
    Layer 'html'
    Layer 'markdown'
    Layer 'python'

endfunction

" Put your private plugins here.
function! UserInit()

    " Space has been set as the default leader key,
    " if you want to change it, uncomment and set it here.
    " let g:spacevim_leader = "<\Space>"
    " let g:spacevim_localleader = ','

    " Install private plugins
    " Plug 'extr0py/oni'
    Plug 'mileszs/ack.vim'
    Plug 'christoomey/vim-tmux-navigator'
    Plug 'benmills/vimux'
endfunction

" Put your costom configurations here, e.g., change the colorscheme.
function! UserConfig()
    "let os = GetRunningOS()

    " If you enable airline layer and have installed the powerline fonts, set it here.
    let g:airline_powerline_fonts=1

    set clipboard=unnamed
    set clipboard=unnamedplus
    set noundofile

    if (has("termguicolors"))
      set termguicolors
    endif

    " emacs keymaping for cursor movement{{{
    nmap <c-a> ^
    nmap <c-e> $
    vmap <c-a> ^
    vmap <c-e> $
    inoremap <c-p> <up>
    inoremap <c-n> <down>
    " command line
    cnoremap <C-a> <Home>
    cnoremap <C-e> <End>
    "}}}

    " Prompt for a command to run
    map <Leader>vp :VimuxPromptCommand<CR>
    " Run last command executed by VimuxRunCommand
    map <Leader>vl :VimuxRunLastCommand<CR>
    " Inspect runner pane
    map <Leader>vi :VimuxInspectRunner<CR>
    " Zoom the tmux runner pane
    map <Leader>vz :VimuxZoomRunner<CR>
endfunction
